(function(){var a,b,c;(function(a){if(typeof c!="undefined")return;var d=[],e;c=e=function(a,b,c){var e=a.indexOf(".js");e!==-1&&(a=a.substring(0,e)),arguments.length==2&&(c=b,b=[]);if(typeof c=="function"){var f=[];for(var g=0;g<b.length;g++){var h=b[g];f.push(d[h])}c=c.apply(this,f)}d[a]=c},b=function(a,b){if(typeof b=="function"){var c=[];for(var e=0;e<a.length;e++){var f=a[e];c.push(d[f])}b.apply(this,c)}},b.ready=$})(window),c("angular",[],function(){if(typeof angular!="undefined")return angular}),c("stng/util",["angular"],function(a){function c(a,b){return b===undefined?a.data("stwidget"):(a.data("stwidget",b),b)}function d(a){var b;while(a.length>0&&a[0]!==document.documentElement){b=a.data("stwidget");if(b)return b;a=a.parent()}return null}function f(a){var b={},c,d;for(c in a)d=a[c],c=g(c),d=i(c,d),j(b,c,d);return b}function g(a){var b=a.split("-"),c=b[0];for(var d=1,e;d<b.length;d++)e=b[d],c+=e.substring(0,1).toUpperCase()+e.substring(1);return c}function i(a,c){return c&&c.indexOf("store:")===0?c=b[c.substring(6)]:h.test(c)?c=parseInt(c):c==="true"?c=!0:c==="false"&&(c=!1),c}function j(a,b,c){var d,e,f;d=b.split(".");for(e=0;e<d.length-1;e++)f=d[e],a[f]||(a[f]={}),a=a[f];a[d[d.length-1]]=c}function k(a){while(a.length){var b=c(a);b&&(b.doComponentLayout&&b.doComponentLayout(),b.doLayout&&b.doLayout()),a=a.parent()}}function l(b){var d=c(b),e=b.children();for(var f=0;f<e.length;f++)l(a.element(e[f]));d&&(d.destroy(),c(b,undefined))}function n(b){var c=e(b);for(var d in c)!m[d]&&d.indexOf(":")===-1&&b.removeAttr(d);var g=f(c);return b.prepend("<!-- options "+a.toJson(g)+"-->"),g}var b={},e=function(a){var b={},c=a[0].attributes;for(var d=0,e=c.length,f;d<e;d++)f=c.item(d),b[f.nodeName]=f.nodeValue;return b},h=/^[0-9]+$/,m={"class":!0,style:!0,id:!0};return{layoutWithParents:k,destroyWidgetsUnder:l,stWidget:c,nearestStWidget:d,stOptions:f,jqLite:a.element,attributes:e,stores:b,getOptionsAndRemoveAttributes:n}}),c("ext",[],function(){if(typeof Ext!="undefined")return Ext}),c("stng/compileIntegration",["angular","ext","stng/util"],function(a,b,c){function e(){for(var a in b.ComponentMgr.types)j(a)}function f(){var b=d(document.getElementsByTagName("body")),c=a.compile(b)()}function i(a,d){var e=this;if(d.attr("st:compiled"))return this.descend(!0),this.directives(!0),function(){};var f=c.getOptionsAndRemoveAttributes(d);d.attr("st:compiled","true");var i=g++;return this.descend(!1),this.directives(!1),function(d){function j(a){var b=h;h=a;var c=g.$element;e.compile(d)(g),g.$element=c,h=b}var g=this;f.el=b.Element.get(d[0]);var k=b.ComponentMgr.types[a].prototype,l;k.add?l="initContent":l="afterRender";var m=k[l];f[l]=function(){var a=m.apply(this,arguments);return c.stWidget(d,this),j(this),a};var n=b.create(f,a);c.stWidget(d,n),n.compileIndex=i;var o=h;o||(o=c.nearestStWidget(d.parent()));if(n&&o&&!f.floating){if(f.dock)o.addDocked(n);else{var p=0;while(p<o.items.length&&o.items.getAt(p).compileIndex<=i)p++;o.add(p,n)}h||o.doLayout()}}}function j(b){a.widget("st:"+b,function(a){return i.call(this,b,a)})}var d=c.jqLite,g=0,h;return{compilePage:f,registerWidgets:e}}),c("stng/customComponent",["ext","stng/util"],function(a,b){var c=b.jqLite;a.AngularComponent=a.extend(a.Component,{children:undefined,onRender:function(){this.children=c(this.el.dom).children(),a.AngularComponent.superclass.onRender.apply(this,arguments)},initContent:function(){var a=c(this.getTargetEl().dom);a.append(this.children)}}),a.reg("custom",a.AngularComponent)}),c("stng/lists",["ext","stng/util","stng/customComponent"],function(a,b){function d(a,b){var c=a.children();a.append(b),b.append(c)}var c=b.jqLite;a.AngularBaseList=a.extend(a.AngularComponent,{componentCls:"x-list",initComponent:function(){this.scroll!==!1&&(this.scroll={direction:"vertical"}),a.AngularBaseList.superclass.initComponent.call(this)}}),a.AngularList=a.extend(a.AngularBaseList,{initContent:function(){a.AngularList.superclass.initContent.call(this);var b=c(this.getTargetEl().dom).children();b.addClass("x-list-item"),d(b,c('<div class="x-list-item-body"></div>'))}}),a.reg("simple-list",a.AngularList),a.AngularGroupedList=a.extend(a.AngularBaseList,{initContent:function(){a.AngularGroupedList.superclass.initContent.call(this);var b=c(this.getTargetEl().dom).children(),e,f,g;for(var h=0;h<b.length;h++)e=c(b[h]),e[0].nodeName==="DIV"&&(e.addClass("x-list-group"),f=e.attr("group"),e.removeAttr("group"),g=e.children("div"),g.addClass("x-list-item"),d(g,c('<div class="x-list-item-body"></div>')),d(e,c('<div class="x-list-group-items"></div>')),e.prepend('<h3 class="x-list-header">'+f+"</h3>"))}}),a.reg("simple-grouped-list",a.AngularGroupedList),angular.directive("st:selected",function(a){return function(b){var c=this;c.$watch(a,function(a){a?b.addClass("x-item-selected"):b.removeClass("x-item-selected")})}})}),c("stng/navigation",["angular","stng/util"],function(a,b){var c=b.jqLite;a.service("$activate",function(){return function(a,d){var e,f=c(document.getElementById(a));e=b.stWidget(f);var g=e.ownerCt;g.setActiveItem?g.setActiveItem(e,d):(g.layout.setActiveItem(e,d),g.doLayout())}}),a.service("$show",function(){return function(a){var d=c(document.getElementById(a)),e=b.stWidget(d);e.show()}}),a.service("$hide",function(){return function(a){var d=c(document.getElementById(a)),e=b.stWidget(d);e.hide()}})}),c("stng/if",["angular"],function(a){a.Object.iff=function(a,b,c,d){return b?c:d},a.widget("@st:if",function(b,c){var d="stif in $iff("+b+",[1],[])";return c.removeAttr("st:if"),a.widget("@ng:repeat").call(this,d,c)})}),c("stng/repeat",["angular","stng/util"],function(a,b){a.widget("@ng:repeat",function(c,d){d.removeAttr("ng:repeat"),d.replaceWith(a.element("<!-- ng:repeat: "+c+" -->"));var e=this.compile(d);return function(d){var f=c.match(/^\s*(.+)\s+in\s+(.*)\s*$/),g,h,i,j;if(!f)throw Error("Expected ng:repeat in form of '_item_ in _collection_' but got '"+c+"'.");g=f[1],h=f[2],f=g.match(/^([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\)$/);if(!f)throw Error("'item' in 'item in collection' should be identifier or (key, value) but got '"+h+"'.");i=f[3]||f[1],j=f[2];var k=[],l=this;this.$onEval(function(){var c=0,f=k.length,g=d,m=this.$tryEval(h,d),n=a.Array.size(m,!0),o,p;for(p in m)m.hasOwnProperty(p)&&(c<f?(o=k[c],o[i]=m[p],j&&(o[j]=p),g=o.$element,o.$position=c==0?"first":c==n-1?"last":"middle",o.$eval()):(o=a.scope(l),o[i]=m[p],j&&(o[j]=p),o.$index=c,o.$position=c==0?"first":c==n-1?"last":"middle",k.push(o),e(o,function(a){a.attr("ng:repeat-index",c),g.after(a),g=a})),c++);while(k.length>c){var q=k.pop(),r=q.$element;b.destroyWidgetsUnder(r),r.remove()}},d)}})}),c("stng/store",["angular","stng/util"],function(a,b){function d(a,b){var d,e={};for(var f in b)d=b[f],d.matches&&d.matches(c)&&(d=a.$eval(d)),e[f]=d;return e}function e(b,c){var d,e,f;f=!1;for(var g in c)d=b.get(g),e=c[g],a.Object.equals(d,e)||(b.set(g,e),f=!0);return f}a.widget("st:store",function(a){var c=a.attr("id"),d=a.attr("fields").split(",");this.descend(!0),this.directives(!0);var e=new Ext.data.Store({fields:d});return b.stores[c]=e,function(a){}});var c=/^{{.*}}$/;a.widget("st:entry",function(a){this.descend(!1),this.directives(!1);var c=b.getOptionsAndRemoveAttributes(a);return function(a){var f=a.parent(),g=b.stores[f.attr("id")],h={},i=g.add(h);a.bind("remove",function(){g.remove(i)});var j=this;this.$onEval(function(){var a=d(j,c);e(i[0],a)})}})}),c("stng/setup",["stng/util","stng/compileIntegration"],function(a,b){var c=document.getElementsByTagName("meta"),d={};for(var e=0;e<c.length;e++){var f=a.jqLite(c[e]);d[f.attr("name")]=f.attr("content")}var g=a.stOptions(d);g.autoStart&&(g.launch=function(){b.compilePage()},new Ext.Application(g))}),c("stng/events",["angular","stng/util"],function(a,b){function d(a,b){function d(d){var e;d.getTarget?e=d.getTarget():e=d.getEl().dom;var f=a.dom,g,h,i,j;do{i=c(e),g=i.data("customEvents");if(g&&g[b]){var k=g[b];h=i.scope(),j=h;for(var l=0;l<k.length;l++)h.$tryEval(k[l],i)}e=e.parentNode}while(e!==null&&e!==f);j&&j.$service("$updateView")()}var e=a.customEvents&&a.customEvents[b];a.customEvents||(a.customEvents={}),a.customEvents[b]=!0,e||(a.events[b]?a.addListener(b,d):a.addManagedListener(a.getTargetEl(),b,d,a))}function e(a,b,d){var e=c(a),f=e.data("customEvents");f||(f={},e.data("customEvents",f));var g=f[b];g||(g=[],f[b]=g),g.push(d)}var c=b.jqLite;a.directive("st:event",function(a,c){var f={},g=/(.*?):(.*?)($|,)/g,h,i=!1;while(h=g.exec(a)){i=!0;var j=h[1];f[j]=h[2]}if(!i)throw"Expression "+a+" needs to have the syntax <event>:<handler>,...";var k=function(a,c){var g=b.nearestStWidget(c);for(var h in f){d(g,h);var i=f[h];e(c,h,i)}};return k.$inject=["$updateView"],k})}),c("stng/waitDialog",["ext","angular"],function(a,b){function e(b){b||(b=d),c=new a.LoadMask(a.getBody(),{msg:b}),c.show()}function f(){c.hide()}var c,d="Please wait...",g={show:e,hide:f};return b.service("$waitDialog",function(){return g}),g}),c("stng/input",["angular"],function(a){function b(a){return a.isChecked?a.isChecked():a.getValue()}function c(a,b){a.setChecked?a.setChecked(b):a.setValue(b)}function d(a,b){a.events.check?(a.addListener("check",b),a.addListener("uncheck",b)):a.events.spin?a.addListener("spin",b):a.addListener("change",b)}a.widget("input",function(){return function(){}});var e=Ext.form.Field.prototype.initEvents;Ext.form.Field.prototype.initEvents=function(){var f=e.apply(this,arguments);if(this.name){var g=this,h=a.element(g.el.dom).scope(),i;h.$onEval(-1e3,function(){var a=h.$get(g.name);i!==a&&(c(g,a),i=a)}),d(this,function(){var a=b(g);i=a,h.$set(g.name,a),h.$service("$updateView")()})}}}),c("stng/stngStyles",["angular"],function(){var a=".st-spacer {display: block}";angular.element(document).find("head").append('<style type="text/css">'+a+"</style>")}),c("st-angular",["angular","stng/util","stng/compileIntegration","stng/customComponent","stng/lists","stng/navigation","stng/if","stng/repeat","stng/store","stng/setup","stng/events","stng/waitDialog","stng/input","stng/stngStyles"],function(a,b,c){return c.registerWidgets(),{}})})()